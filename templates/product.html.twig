{% extends 'base.html.twig' %}

{% block title %}Liste de produits{% endblock %}

{% block body %}
    <div class="container mt-5">
        <h2>Liste de produits</h2>

        {# Vérifier si des produits sont disponibles #}
        <ul class="list-group">
            {# Parcourir chaque produit #}
            {% for product in products %}
                <li class="list-group-item">
                    {# Nom du produit en gras #}
                    <span class="fw-bold">{{ product.nom }}</span> à <span class="text-primary">{{ product.Prix }} euros</span>

                    {# Lien pour donner un feedback, redirige vers la route 'app_feedback' avec l'ID du produit #}
                    <a href="{{ path('app_feedback', {'id': product.id}) }}" class="btn btn-success ms-2">Donner un feedback</a>
                </li>

                {# Si c'est le dernier produit, afficher un message #}
                {% if loop.last %}
                    <p class="mt-3">Ceci est le dernier produit de la liste</p>
                {% endif %}
            {% else %}
                {# Aucun produit trouvé #}
                <li class="list-group-item">Aucun Produit trouvé.</li>
            {% endfor %}
        </ul>

        {# Lien pour ajouter un produit #}
        <a href="{{ path('add_product') }}" class="btn btn-primary mt-3">Ajouter un produit</a>
        <br>
        <br>

        {# Lien pour accéder à la liste des feedbacks #}
        <a href="{{ path('list_feedbacks') }}" class="btn btn-primary">Liste des feedbacks</a>
    </div>
{% endblock %}
